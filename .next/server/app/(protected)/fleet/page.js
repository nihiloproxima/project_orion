(()=>{var e={};e.id=855,e.ids=[855],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},93414:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>o});var r=s(70260),a=s(28203),n=s(25155),i=s.n(n),l=s(67292),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["(protected)",{children:["fleet",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,40660)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/fleet/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8616)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/Users/nathan/code/orion/nextclient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/nathan/code/orion/nextclient/src/app/(protected)/fleet/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(protected)/fleet/page",pathname:"/fleet",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},83384:(e,t,s)=>{Promise.resolve().then(s.bind(s,40660))},93112:(e,t,s)=>{Promise.resolve().then(s.bind(s,59532))},56463:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(41680).A)("Ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]])},59532:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>et});var r=s(45512),a=s(58009),n=s(2754),i=s(64590),l=s(39400),c=s(41680);let o=(0,c.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=s(44269);let p=(0,c.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var h=s(56463);let u=(0,c.A)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]),x=(0,c.A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),m=(0,c.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),y=(0,c.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),f=(0,c.A)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),g=(0,c.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var j=s(52193);let b=(0,c.A)("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var v=s(86676),w=s(70384),k=s(29952),N=s(6004),_=s(31412),C=s(13024),P=s(66582),S=s(38762),A=s(98060),q=s(30830),M="Checkbox",[z,E]=(0,N.A)(M),[U,L]=z(M),R=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:n,checked:i,defaultChecked:l,required:c,disabled:o,value:d="on",onCheckedChange:p,form:h,...u}=e,[x,m]=a.useState(null),y=(0,k.s)(t,e=>m(e)),f=a.useRef(!1),g=!x||h||!!x.closest("form"),[j=!1,b]=(0,C.i)({prop:i,defaultProp:l,onChange:p}),v=a.useRef(j);return a.useEffect(()=>{let e=x?.form;if(e){let t=()=>b(v.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[x,b]),(0,r.jsxs)(U,{scope:s,state:j,disabled:o,children:[(0,r.jsx)(q.sG.button,{type:"button",role:"checkbox","aria-checked":D(j)?"mixed":j,"aria-required":c,"data-state":V(j),"data-disabled":o?"":void 0,disabled:o,value:d,...u,ref:y,onKeyDown:(0,_.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,_.m)(e.onClick,e=>{b(e=>!!D(e)||!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&(0,r.jsx)(G,{control:x,bubbles:!f.current,name:n,value:d,checked:j,required:c,disabled:o,form:h,style:{transform:"translateX(-100%)"},defaultChecked:!D(l)&&l})]})});R.displayName=M;var $="CheckboxIndicator",T=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...n}=e,i=L($,s);return(0,r.jsx)(A.C,{present:a||D(i.state)||!0===i.state,children:(0,r.jsx)(q.sG.span,{"data-state":V(i.state),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});T.displayName=$;var G=e=>{let{control:t,checked:s,bubbles:n=!0,defaultChecked:i,...l}=e,c=a.useRef(null),o=(0,P.Z)(s),d=(0,S.X)(t);a.useEffect(()=>{let e=c.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==s&&t){let r=new Event("click",{bubbles:n});e.indeterminate=D(s),t.call(e,!D(s)&&s),e.dispatchEvent(r)}},[o,s,n]);let p=a.useRef(!D(s)&&s);return(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...l,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function D(e){return"indeterminate"===e}function V(e){return D(e)?"indeterminate":e?"checked":"unchecked"}var O=s(24849),I=s(44195);let B=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(R,{ref:s,className:(0,I.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,r.jsx)(T,{className:(0,I.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(O.A,{className:"h-4 w-4"})})}));B.displayName=R.displayName;var F=s(93732);s(55842);var H=s(79236),Z=s(77722),K=s(80390),X=s(92839),W=s(94037),J=s(69586),Q=s(45103);let Y=e=>`http://127.0.0.1:54321/storage/v1/object/public/ships/${e}.webp`,ee={colony_ship:{name:"Colony Ship",image:Y("colony_ship")},transport_ship:{name:"Transport Ship",image:Y("transport_ship")},spy_probe:{name:"Spy Probe",image:Y("spy_probe")},recycler_ship:{name:"Recycler Ship",image:Y("recycler_ship")},cruiser:{name:"Cruiser",image:Y("cruiser")}};function et(){let{state:e}=(0,n.I)(),{planets:t,userPlanets:s,loading:c}=(0,X.H)(),[k,N]=(0,a.useState)([]),[_,C]=(0,a.useState)(new Set),[P,S]=(0,a.useState)(!0),[A,q]=(0,a.useState)("all"),[M,z]=(0,a.useState)("grid"),[E,U]=(0,a.useState)(!1),[L,R]=(0,a.useState)(null),[$,T]=(0,a.useState)(""),[G,D]=(0,a.useState)("speed"),[V,O]=(0,a.useState)("desc"),[I,Y]=(0,a.useState)(!1),[et,es]=(0,a.useState)(null),[er,ea]=(0,a.useState)(null),en=(0,a.useCallback)(()=>{if(!et||!e.selectedPlanet||!t)return console.log("Missing required data:",{missionType:et,selectedPlanet:!!e.selectedPlanet,planetsLoaded:!!t}),[];console.log("Calculating target planets:",{missionType:et,totalPlanets:t.length});let s=t.filter(t=>{if(t.id===e.selectedPlanet?.id)return!1;switch(et){case"colonize":return!t.owner_id;case"attack":case"spy":return t.owner_id&&t.owner_id!==e.currentUser?.id;case"transport":return t.owner_id===e.currentUser?.id;case"recycle":return!0;default:return!1}}).map(e=>e.id);return console.log(`Found ${s.length} allowed planets for mission type ${et}`),s},[et,e.selectedPlanet,e.currentUser?.id,t]),ei=(0,a.useCallback)(t=>{if(!e.selectedPlanet)return null;let s=t.coordinate_x-e.selectedPlanet.coordinate_x,r=t.coordinate_y-e.selectedPlanet.coordinate_y,a=Math.sqrt(s*s+r*r),n=Math.min(...Array.from(_).map(e=>k.find(t=>t.id===e)?.speed||1/0));return n===1/0?null:Math.ceil(a/n)},[e.selectedPlanet,_,k]),el=e=>{C(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},ec=async()=>{if(!L||!$.trim())return;let{error:e}=await J.F.fleet.renameShip(L.id,$);e||N(e=>e.map(e=>e.id===L.id?{...e,name:$}:e)),U(!1),R(null),T("")},eo=e=>{G===e?O("asc"===V?"desc":"asc"):(D(e),O("desc"))},ed=async()=>{er&&et&&(console.log("Mission confirmed:",{ships:Array.from(_),targetPlanet:er,missionType:et}),Y(!1))},ep=(0,a.useCallback)(()=>t&&et?t.filter(t=>{switch(et){case"transport":return t.owner_id===e.currentUser?.id;case"attack":case"spy":return t.owner_id&&t.owner_id!==e.currentUser?.id;case"colonize":return!t.owner_id;default:return!1}}).map(e=>e.id):[],[et,t,e.currentUser?.id]);return P||c?(0,r.jsx)(W.x,{message:"LOADING FLEET DATA..."}):I?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)(l.$,{variant:"ghost",onClick:()=>Y(!1),className:"flex items-center gap-2",children:[(0,r.jsx)(o,{className:"h-4 w-4"}),"Back to Ship Selection"]}),(0,r.jsx)(l.$,{variant:"ghost",onClick:()=>{Y(!1),ea(null),es(null)},children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Select Mission Type"}),(0,r.jsxs)(F.l6,{value:et||"",onValueChange:e=>{es(e)},children:[(0,r.jsx)(F.bq,{className:"w-full",children:(0,r.jsx)(F.yv,{placeholder:"Choose mission type"})}),(0,r.jsx)(F.gC,{children:(()=>{let e=new Set(Array.from(_).map(e=>k.find(t=>t.id===e)?.type)),t=[];return e.has("cruiser")&&t.push("attack"),e.has("transport_ship")&&t.push("transport"),e.has("colony_ship")&&t.push("colonize"),e.has("spy_probe")&&t.push("spy"),e.has("recycler_ship")&&t.push("recycle"),t})().map(e=>(0,r.jsx)(F.eb,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),er&&(0,r.jsxs)("div",{className:"p-4 bg-primary/10 rounded-lg border border-primary/20",children:[(0,r.jsxs)("h4",{className:"font-bold mb-2",children:["Selected Target: ",er.name]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Coordinates: (",er.coordinate_x,","," ",er.coordinate_y,")"]}),e.selectedPlanet&&(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Travel Time: ",ei(er)," hours"]}),(0,r.jsxs)(l.$,{className:"w-full mt-4",disabled:!er||!et,onClick:ed,children:[(0,r.jsx)(p,{className:"h-4 w-4 mr-2"}),"Confirm Mission"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Select Target Planet"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)(F.l6,{value:er?.id||"",onValueChange:e=>{let s=t?.find(t=>t.id===e);s&&ea(s)},children:[(0,r.jsx)(F.bq,{className:"w-full",children:(0,r.jsx)(F.yv,{placeholder:"Choose target planet"})}),(0,r.jsx)(F.gC,{children:t?.filter(t=>{switch(et){case"transport":return t.owner_id===e.currentUser?.id;case"attack":case"spy":return t.owner_id&&t.owner_id!==e.currentUser?.id;case"colonize":return!t.owner_id;default:return!1}}).map(e=>r.jsxs(F.eb,{value:e.id,children:[e.name," (",e.coordinate_x,","," ",e.coordinate_y,")"]},e.id))})]}),(0,r.jsx)("div",{className:"border rounded-lg p-4 w-full h-[calc(100vh-380px)] flex",children:(0,r.jsx)(K.r,{mode:"mission-target",onPlanetSelect:ea,allowedPlanets:en(),highlightedPlanets:ep(),initialZoom:.3,width:"100%",height:"100%",focusedPlanet:er})})]})]})]})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold neon-text mb-2 flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"h-8 w-8"}),"FLEET CONTROL"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage and deploy your stationed ships"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>z("grid"===M?"list":"grid"),className:"flex items-center gap-2",children:"grid"===M?(0,r.jsx)(u,{className:"h-4 w-4"}):(0,r.jsx)(x,{className:"h-4 w-4"})}),(0,r.jsxs)(F.l6,{value:A,onValueChange:e=>q(e),children:[(0,r.jsxs)(F.bq,{className:"w-[180px]",children:[(0,r.jsx)(m,{className:"w-4 h-4 mr-2"}),(0,r.jsx)(F.yv,{placeholder:"Filter by type"})]}),(0,r.jsxs)(F.gC,{children:[(0,r.jsx)(F.eb,{value:"all",children:"All Ships"}),Object.entries(ee).map(([e,{name:t}])=>(0,r.jsx)(F.eb,{value:e,children:t},e))]})]}),(0,r.jsxs)(F.l6,{value:G,onValueChange:e=>eo(e),children:[(0,r.jsxs)(F.bq,{className:"w-[180px]",children:[(0,r.jsx)(y,{className:"w-4 h-4 mr-2"}),(0,r.jsx)(F.yv,{placeholder:"Sort by"})]}),(0,r.jsxs)(F.gC,{children:[(0,r.jsxs)(F.eb,{value:"speed",children:["Speed"," ","speed"===G&&("asc"===V?"↑":"↓")]}),(0,r.jsxs)(F.eb,{value:"cargo_capacity",children:["Cargo"," ","cargo_capacity"===G&&("asc"===V?"↑":"↓")]}),(0,r.jsxs)(F.eb,{value:"attack_power",children:["Attack"," ","attack_power"===G&&("asc"===V?"↑":"↓")]}),(0,r.jsxs)(F.eb,{value:"defense",children:["Defense"," ","defense"===G&&("asc"===V?"↑":"↓")]})]})]}),(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>{_.size===k.length?C(new Set):C(new Set(k.map(e=>e.id)))},className:"flex items-center gap-2",children:[(0,r.jsx)(f,{className:"h-4 w-4"}),_.size===k.length?"Deselect All":"Select All"]}),(0,r.jsx)(l.$,{variant:"default",size:"lg",disabled:0===_.size,onClick:()=>Y(!0),className:`w-full px-4 py-2 rounded-lg font-medium transition-colors border ${_.size?"bg-primary/20 hover:bg-primary/30 text-primary border-primary/50 hover:border-primary/80 neon-border":"bg-gray-800/50 text-gray-500 border-gray-700 cursor-not-allowed"}`,children:(0,r.jsx)("span",{className:"uppercase",children:"Send Mission"})})]})]}),(0,r.jsx)("div",{className:"grid"===M?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:k.map(e=>(0,r.jsxs)(i.Zp,{className:`bg-card/50 backdrop-blur-sm transition-all duration-300 ${_.has(e.id)?"neon-border-primary":"hover:neon-border"}`,children:[(0,r.jsxs)(i.aR,{className:"flex flex-row items-center space-y-0 pb-2",children:[(0,r.jsxs)(i.ZB,{className:"flex-1 flex items-center gap-2",children:[(0,r.jsx)(B,{checked:_.has(e.id),onCheckedChange:()=>el(e.id)}),(0,r.jsx)(Q.default,{src:ee[e.type].image,width:100,height:100,"aria-description":`Ship ${e.name}`,alt:e.name,className:"w-8 h-8"}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{children:e.name}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:ee[e.type].name})]})]}),(0,r.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{R(e),T(e.name),U(!0)},children:(0,r.jsx)(g,{className:"h-4 w-4"})})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(j.A,{className:"h-4 w-4 text-blue-400"}),(0,r.jsxs)("span",{children:["Speed: ",e.speed]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(b,{className:"h-4 w-4 text-yellow-400"}),(0,r.jsxs)("span",{children:["Cargo: ",e.cargo_capacity]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 text-red-400"}),(0,r.jsxs)("span",{children:["Attack: ",e.attack_power]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(w.A,{className:"h-4 w-4 text-green-400"}),(0,r.jsxs)("span",{children:["Defense: ",e.defense]})]})]})})]},e.id))}),0===k.length&&(0,r.jsx)("div",{className:"text-center text-muted-foreground py-12",children:"No ships currently stationed at this planet."}),(0,r.jsx)(H.lG,{open:E,onOpenChange:U,children:(0,r.jsxs)(H.Cf,{children:[(0,r.jsx)(H.c7,{children:(0,r.jsx)(H.L3,{children:"Rename Ship"})}),(0,r.jsx)(Z.p,{value:$,onChange:e=>T(e.target.value),placeholder:"Enter new ship name"}),(0,r.jsxs)(H.Es,{children:[(0,r.jsx)(l.$,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),(0,r.jsx)(l.$,{onClick:ec,children:"Rename"})]})]})})]})}},92839:(e,t,s)=>{"use strict";s.d(t,{H:()=>n});var r=s(58009),a=s(2754);function n(){let{state:e}=(0,a.I)(),t=(0,r.useMemo)(()=>e.planets?.filter(e=>!e.owner_id)||[],[e.planets]),s=(0,r.useMemo)(()=>e.planets?.filter(t=>t.owner_id===e.currentUser?.id)||[],[e.planets,e.currentUser?.id]);return{planets:e.planets,loading:!e.loadedPlanets,unclaimedPlanets:t,userPlanets:s,getNeighboringPlanets:(t,s)=>e.planets?e.planets.filter(e=>{let r=e.coordinate_x-t.coordinate_x,a=e.coordinate_y-t.coordinate_y;return Math.sqrt(r*r+a*a)<=s&&e.id!==t.id}):[],getPlanetsByBiome:t=>e.planets?.filter(e=>e.biome===t)||[]}}},40660:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nathan/code/orion/nextclient/src/app/(protected)/fleet/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nathan/code/orion/nextclient/src/app/(protected)/fleet/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,572,77,765,65,294,257,262,390,575],()=>s(93414));module.exports=r})();