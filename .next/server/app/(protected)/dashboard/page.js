(()=>{var e={};e.id=311,e.ids=[311],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},46610:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(70260),a=s(28203),n=s(25155),i=s.n(n),o=s(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["(protected)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51084)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8616)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/Users/nathan/code/orion/nextclient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/nathan/code/orion/nextclient/src/app/(protected)/dashboard/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(protected)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},58632:(e,t,s)=>{Promise.resolve().then(s.bind(s,51084))},22184:(e,t,s)=>{Promise.resolve().then(s.bind(s,84734))},84734:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(45512),a=s(64590),n=s(37637),i=s(52193),o=s(41680);let l=(0,o.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),d=(0,o.A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),c=(0,o.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var p=s(2754),u=s(79334),x=s(28531),m=s.n(x),h=s(58009);s(55842);var f=s(69586),b=s(45103),y=s(53326);function j(){let e=(0,u.useRouter)(),{state:t}=(0,p.I)(),[s,o]=(0,h.useState)([]),[x,j]=(0,h.useState)(""),v=(0,h.useRef)(null),g=async e=>{if(e.preventDefault(),x.trim())try{await f.F.chat.sendMessage("global",x),j("")}catch(e){console.error("Failed to send message:",e)}};return 0===t.userPlanets.length?(e.push("/choose-homeworld"),null):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold neon-text mb-2",children:"COMMAND CENTER"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Welcome, Commander. All systems operational."})]})}),(0,r.jsxs)(a.Zp,{className:"bg-red-900/30 border-red-500/50 backdrop-blur-sm animate-pulse",children:[(0,r.jsx)(a.aR,{className:"flex flex-row items-center justify-between pb-2",children:(0,r.jsx)(a.ZB,{className:"text-red-500 font-bold flex items-center gap-2",children:"⚠️ ALERT: INCOMING HOSTILE FLEET"})}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("div",{className:"text-red-400 space-y-2",children:[(0,r.jsx)("p",{children:"Hostile fleet detected approaching Colony Alpha-7"}),(0,r.jsxs)("div",{className:"font-mono text-xl",children:["Time until impact: ",(0,r.jsx)("span",{className:"text-red-500",children:"14:32"})]}),(0,r.jsx)("div",{className:"text-sm",children:"Fleet composition: 5 Battlecruisers, 12 Destroyers"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)(a.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium neon-text",children:"FLEET STATUS"}),(0,r.jsx)(i.A,{className:"h-4 w-4 text-primary"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"15 Ships"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"3 in combat, 12 in orbit"})]})]}),(0,r.jsxs)(a.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium neon-text",children:"SYSTEM STATUS"}),(0,r.jsx)(l,{className:"h-4 w-4 text-primary"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:"OPTIMAL"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"All systems green"})]})]}),(0,r.jsxs)(a.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium neon-text",children:"ACTIVE COMMANDERS"}),(0,r.jsx)(d,{className:"h-4 w-4 text-primary"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.activePlayers}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently online"})]})]})]}),(0,r.jsxs)(a.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border h-[400px] flex flex-col",children:[(0,r.jsx)(a.aR,{className:"pb-2",children:(0,r.jsxs)(a.ZB,{className:"neon-text flex items-center gap-2",children:[(0,r.jsx)(c,{className:"h-4 w-4"}),"UNIVERSAL COMMS"]})}),(0,r.jsxs)(a.Wu,{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(n.F,{className:"flex-1",ref:v,children:(0,r.jsx)("div",{className:"space-y-4 font-mono pr-4",children:s.map(e=>(0,r.jsxs)("div",{className:"text-sm break-words flex items-start gap-2",children:[e.sender_avatar?(0,r.jsx)(b.default,{src:(0,y.w)("avatars",e.sender_avatar+".webp"),width:100,height:100,alt:e.sender_name||"User",className:"w-6 h-6 flex-shrink-0 object-cover"}):(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex-shrink-0 flex items-center justify-center text-[10px] uppercase",children:e.sender_name?.[0]||"?"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"text-primary whitespace-nowrap",children:["[",new Date(e.created_at).toLocaleTimeString(),"]"]})," ",(0,r.jsxs)(m(),{href:"user_message"===e.type?`/user/${e.sender_id}`:"#",className:`text-secondary ${"system_message"===e.type?"text-red-500":""} ${"user_message"===e.type?"hover:underline":""}`,onClick:t=>{"user_message"!==e.type&&t.preventDefault()},children:[e.sender_name,":"]})," ",(0,r.jsx)("span",{className:`text-muted-foreground ${"system_message"===e.type?"text-red-400":""}`,children:e.text})]})]},e.id))})}),(0,r.jsx)("form",{onSubmit:g,className:"border border-primary/30 rounded p-2 mt-4",children:(0,r.jsx)("input",{type:"text",value:x,onChange:e=>j(e.target.value),placeholder:"> Enter message...",className:"w-full bg-transparent border-none focus:outline-none text-primary placeholder:text-primary/50"})})]})]})]})}},37637:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});var r=s(45512),a=s(58009),n=s(53998),i=s(44195);let o=a.forwardRef(({className:e,children:t,...s},a)=>(0,r.jsxs)(n.bL,{ref:a,className:(0,i.cn)("relative overflow-hidden",e),...s,children:[(0,r.jsx)(n.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,r.jsx)(l,{}),(0,r.jsx)(n.OK,{})]}));o.displayName=n.bL.displayName;let l=a.forwardRef(({className:e,orientation:t="vertical",...s},a)=>(0,r.jsx)(n.VM,{ref:a,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:(0,r.jsx)(n.lr,{className:"relative flex-1 rounded-full bg-border"})}));l.displayName=n.VM.displayName},69586:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var r=s(55842);async function a(e,t,s){let a=await r.N.auth.getSession().then(({data:{session:e}})=>e?.access_token),n=await fetch(`http://localhost:3001/${e}/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)});if(!n.ok)throw Error(`HTTP error! status: ${n.status}`);return n.json()}let n={admin:{updateConfig:async(e,t)=>a("admin","updateConfig",{id:e,config_data:t})},researchs:{startResearch:async(e,t)=>a("researchs","startResearch",{technology_id:e,planet_id:t})},chat:{sendMessage:async(e,t)=>a("chat","sendMessage",{channel_id:e,text:t})},users:{register:async(e,t)=>a("users","register",{id:e,name:t}),update:async(e,t)=>a("users","update",{name:e,avatar:t})},planets:{claim:async(e,t)=>a("planets","claim",{planet_id:e,homeworld:t})},structures:{construct:async(e,t)=>a("structures","construct",{planet_id:e,type:t}),upgrade:async(e,t)=>a("structures","upgrade",{planet_id:e,structure_id:t})},fleet:{buildShip:async(e,t,s)=>a("fleet","buildShip",{ship_type:e,planet_id:t,amount:s}),renameShip:async(e,t)=>a("fleet","renameShip",{ship_id:e,new_name:t})}}},53326:(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var r=s(55842);let a=(e,t)=>{let{data:s}=r.N.storage.from(e).getPublicUrl(t);return s.publicUrl}},51084:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nathan/code/orion/nextclient/src/app/(protected)/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nathan/code/orion/nextclient/src/app/(protected)/dashboard/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,572,77,765,65,294,998,257,262],()=>s(46610));module.exports=r})();