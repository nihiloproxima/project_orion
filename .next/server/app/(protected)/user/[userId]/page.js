(()=>{var e={};e.id=161,e.ids=[161],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},43630:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=s(70260),a=s(28203),n=s(25155),i=s.n(n),o=s(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["(protected)",{children:["user",{children:["[userId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,31362)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/user/[userId]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8616)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/Users/nathan/code/orion/nextclient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/nathan/code/orion/nextclient/src/app/(protected)/user/[userId]/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(protected)/user/[userId]/page",pathname:"/user/[userId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},93222:(e,r,s)=>{Promise.resolve().then(s.bind(s,31362))},62958:(e,r,s)=>{Promise.resolve().then(s.bind(s,81948))},81948:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>N});var t=s(45512),a=s(58009),n=s(2754),i=s(64590),o=s(39400),l=s(87798),d=s(41680);let c=(0,d.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),p=(0,d.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),x=(0,d.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var u=s(70384);let h=(0,d.A)("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),m=(0,d.A)("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);s(55842);var v=s(94037),b=s(77722),g=s(69586),f=s(79236),j=s(45103),y=s(79334),w=s(53326);function N(){let e=(0,y.useParams)().userId,{state:r}=(0,n.I)(),[s,d]=(0,a.useState)(null),[N,k]=(0,a.useState)(!0),[_,P]=(0,a.useState)(!1),[C,A]=(0,a.useState)(""),[q,M]=(0,a.useState)(!1),S=Array.from({length:10},(e,r)=>`${r}.webp`),I=r.currentUser?.id===e,z=async()=>{if(s&&C.trim())try{await g.F.users.update(C,s.avatar||""),d({...s,name:C}),P(!1)}catch(e){console.error("Error updating name:",e)}},E=async e=>{if(s)try{await g.F.users.update(s.name,e.split(".")[0]),d({...s,avatar:e}),M(!1)}catch(e){console.error("Error updating avatar:",e)}};if(N)return(0,t.jsx)(v.x,{message:"ACCESSING COMMANDER DATA..."});if(!s)return(0,t.jsx)("div",{children:"Commander not found."});let Z=r.planets?.filter(r=>r.owner_id===e);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold neon-text mb-2 flex items-center gap-2",children:[(0,t.jsx)(l.A,{className:"h-8 w-8"}),"COMMANDER PROFILE"]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Viewing commander ",s.name,"'s service record"]})]})}),(0,t.jsxs)(i.Zp,{className:"border-2 shadow-2xl shadow-primary/20 overflow-hidden",children:[(0,t.jsx)("div",{className:"relative h-48 bg-gradient-to-b from-primary/20 to-background",children:(0,t.jsxs)("div",{className:"absolute -bottom-16 left-8 flex items-end gap-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(j.default,{src:(0,w.w)("avatars",s.avatar+".webp"),alt:s.name,width:192,height:192,"aria-description":`Avatar ${s.avatar}`,className:"border-4 border-background shadow-xl object-cover"}),I&&(0,t.jsx)(o.$,{variant:"default",size:"icon",className:"absolute bottom-0 right-0 rounded-full",onClick:()=>M(!0),children:(0,t.jsx)(c,{className:"h-4 w-4"})})]}),(0,t.jsx)("div",{className:"mb-4",children:_?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.p,{value:C,onChange:e=>A(e.target.value),className:"bg-background"}),(0,t.jsx)(o.$,{onClick:z,children:"Save"}),(0,t.jsx)(o.$,{variant:"outline",onClick:()=>P(!1),children:"Cancel"})]}):(0,t.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.name,I&&(0,t.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>P(!0),children:(0,t.jsx)(p,{className:"h-4 w-4"})})]})})]})}),(0,t.jsxs)(i.Wu,{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)(i.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-primary",children:[(0,t.jsx)(x,{className:"h-5 w-5"}),"Global Score"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:s.global_score})})]}),(0,t.jsxs)(i.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-blue-400",children:[(0,t.jsx)(u.A,{className:"h-5 w-5"}),"Defense Score"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:s.defense_score})})]}),(0,t.jsxs)(i.Zp,{className:"bg-card/50 backdrop-blur-sm neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2 text-red-400",children:[(0,t.jsx)(h,{className:"h-5 w-5"}),"Attack Score"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:s.attack_score})})]})]})]}),(0,t.jsx)(f.lG,{open:q,onOpenChange:M,children:(0,t.jsxs)(f.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsx)(f.c7,{children:(0,t.jsx)(f.L3,{children:"Select Commander Avatar"})}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4 p-4",children:S.map((e,r)=>(0,t.jsx)("button",{className:"relative overflow-hidden rounded-lg border-2 border-muted hover:border-primary transition-colors",onClick:()=>E(e),children:(0,t.jsx)(j.default,{src:(0,w.w)("avatars",e),alt:`Avatar ${r}`,width:192,height:192,"aria-description":`Avatar ${r}`,className:"w-full h-full object-cover"})},r))})]})}),(0,t.jsxs)(i.Zp,{className:"border-2 shadow-2xl shadow-primary/20",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-5 w-5"}),"Controlled Systems (",Z?.length||0,")"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Z?.map(e=>t.jsx(i.Zp,{className:"bg-card/50 backdrop-blur-sm hover:shadow-[0_0_20px_rgba(32,224,160,0.3)] transition-all duration-300",children:t.jsxs(i.Wu,{className:"p-4",children:[t.jsx("div",{className:"font-bold text-primary",children:e.name}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:["[",e.coordinate_x,", ",e.coordinate_y,"]"]}),t.jsxs("div",{className:"text-sm",children:["Size: ",e.size_km.toLocaleString()," km"]}),t.jsxs("div",{className:"text-sm capitalize",children:["Biome: ",e.biome.replace("_"," ")]})]})},e.id))})})]})]})}},53326:(e,r,s)=>{"use strict";s.d(r,{w:()=>a});var t=s(55842);let a=(e,r)=>{let{data:s}=t.N.storage.from(e).getPublicUrl(r);return s.publicUrl}},31362:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nathan/code/orion/nextclient/src/app/(protected)/user/[userId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nathan/code/orion/nextclient/src/app/(protected)/user/[userId]/page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,572,77,765,65,294,257,262,575],()=>s(43630));module.exports=t})();