(()=>{var e={};e.id=645,e.ids=[645],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},65930:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(70260),a=r(28203),n=r(25155),i=r.n(n),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(protected)",{children:["researchs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,79158)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/researchs/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8616)),"/Users/nathan/code/orion/nextclient/src/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"/Users/nathan/code/orion/nextclient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/nathan/code/orion/nextclient/src/app/(protected)/researchs/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(protected)/researchs/page",pathname:"/researchs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},61438:(e,t,r)=>{Promise.resolve().then(r.bind(r,79158))},29894:(e,t,r)=>{Promise.resolve().then(r.bind(r,17436))},4643:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},72734:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},70384:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},56463:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(41680).A)("Ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]])},17436:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ed});var s=r(45512),a=r(2754),n=r(56463),i=r(70384),o=r(72734),l=r(4643),c=r(91683),d=r(9086),p=r(39495),u=r(73587),m=r(61594);let h=(0,r(41680).A)("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);var x=r(35256),f=r(51072),g=r(39400),y=r(64590),v=r(58009),b=r(31412),j=r(29952),_=r(6004),w=r(41675),N=r(30096),C=r(53337),k=(r(80707),r(98060)),E=r(30830),R=r(12705),A=r(13024),T=r(56441),[M,P]=(0,_.A)("Tooltip",[C.Bk]),S=(0,C.Bk)(),q="TooltipProvider",L="tooltip.open",[$,z]=M(q),O=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,s.jsx)($,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),a)},[a]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(e=>{c.current=e},[]),disableHoverableContent:n,children:i})};O.displayName=q;var I="Tooltip",[U,D]=M(I),B=e=>{let{__scopeTooltip:t,children:r,open:a,defaultOpen:n=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=z(I,e.__scopeTooltip),d=S(t),[p,u]=v.useState(null),m=(0,N.B)(),h=v.useRef(0),x=o??c.disableHoverableContent,f=l??c.delayDuration,g=v.useRef(!1),[y=!1,b]=(0,A.i)({prop:a,defaultProp:n,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(L))):c.onClose(),i?.(e)}}),j=v.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),_=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,b(!0)},[b]),w=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),k=v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,b(!0),h.current=0},f)},[f,b]);return v.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),(0,s.jsx)(C.bL,{...d,children:(0,s.jsx)(U,{scope:t,contentId:m,open:y,stateAttribute:j,trigger:p,onTriggerChange:u,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?k():_()},[c.isOpenDelayed,k,_]),onTriggerLeave:v.useCallback(()=>{x?w():(window.clearTimeout(h.current),h.current=0)},[w,x]),onOpen:_,onClose:w,disableHoverableContent:x,children:r})})};B.displayName=I;var F="TooltipTrigger",G=v.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,n=D(F,r),i=z(F,r),o=S(r),l=v.useRef(null),c=(0,j.s)(t,l,n.onTriggerChange),d=v.useRef(!1),p=v.useRef(!1),u=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),(0,s.jsx)(C.Mz,{asChild:!0,...o,children:(0,s.jsx)(E.sG.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:c,onPointerMove:(0,b.m)(e.onPointerMove,e=>{"touch"===e.pointerType||p.current||i.isPointerInTransitRef.current||(n.onTriggerEnter(),p.current=!0)}),onPointerLeave:(0,b.m)(e.onPointerLeave,()=>{n.onTriggerLeave(),p.current=!1}),onPointerDown:(0,b.m)(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:(0,b.m)(e.onFocus,()=>{d.current||n.onOpen()}),onBlur:(0,b.m)(e.onBlur,n.onClose),onClick:(0,b.m)(e.onClick,n.onClose)})})});G.displayName=F;var[H,V]=M("TooltipPortal",{forceMount:void 0}),Z="TooltipContent",X=v.forwardRef((e,t)=>{let r=V(Z,e.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...i}=e,o=D(Z,e.__scopeTooltip);return(0,s.jsx)(k.C,{present:a||o.open,children:o.disableHoverableContent?(0,s.jsx)(W,{side:n,...i,ref:t}):(0,s.jsx)(Y,{side:n,...i,ref:t})})}),Y=v.forwardRef((e,t)=>{let r=D(Z,e.__scopeTooltip),a=z(Z,e.__scopeTooltip),n=v.useRef(null),i=(0,j.s)(t,n),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,p=n.current,{onPointerInTransitChange:u}=a,m=v.useCallback(()=>{l(null),u(!1)},[u]),h=v.useCallback((e,t)=>{let r=e.currentTarget,s={x:e.clientX,y:e.clientY},a=function(e,t){let r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,s,a,n)){case n:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw Error("unreachable")}}(s,r.getBoundingClientRect());l(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let s=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(s.y-r.y)>=(e.y-r.y)*(s.x-r.x))t.pop();else break}t.push(s)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let s=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(s.y-t.y)>=(e.y-t.y)*(s.x-t.x))r.pop();else break}r.push(s)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(t)}([...function(e,t,r=5){let s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return s}(s,a),...function(e){let{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}(t.getBoundingClientRect())])),u(!0)},[u]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&p){let e=e=>h(e,p),t=e=>h(e,c);return c.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[c,p,h,m]),v.useEffect(()=>{if(o){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},s=c?.contains(t)||p?.contains(t),a=!function(e,t){let{x:r,y:s}=e,a=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let i=t[e].x,o=t[e].y,l=t[n].x,c=t[n].y;o>s!=c>s&&r<(l-i)*(s-o)/(c-o)+i&&(a=!a)}return a}(r,o);s?m():a&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,p,o,d,m]),(0,s.jsx)(W,{...e,ref:i})}),[J,Q]=M(I,{isInside:!1}),W=v.forwardRef((e,t)=>{let{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=D(Z,r),d=S(r),{onClose:p}=c;return v.useEffect(()=>(document.addEventListener(L,p),()=>document.removeEventListener(L,p)),[p]),v.useEffect(()=>{if(c.trigger){let e=e=>{let t=e.target;t?.contains(c.trigger)&&p()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,p]),(0,s.jsx)(w.qW,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:p,children:(0,s.jsxs)(C.UC,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,s.jsx)(R.xV,{children:a}),(0,s.jsx)(J,{scope:r,isInside:!0,children:(0,s.jsx)(T.b,{id:c.contentId,role:"tooltip",children:n||a})})]})})});X.displayName=Z;var K="TooltipArrow";v.forwardRef((e,t)=>{let{__scopeTooltip:r,...a}=e,n=S(r);return Q(K,r).isInside?null:(0,s.jsx)(C.i3,{...n,...a,ref:t})}).displayName=K;var ee=r(44195);let et=v.forwardRef(({className:e,sideOffset:t=4,...r},a)=>(0,s.jsx)(X,{ref:a,sideOffset:t,className:(0,ee.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));et.displayName=X.displayName;var er=r(35223),es=r(69586),ea=r(4428),en=r(77039),ei=r(54805),eo=r(45103),el=r(53326);function ec({id:e,research:t,tech:r,onStartResearch:m,isAnyResearchInProgress:h}){let x;let{state:f,currentResources:g}=(0,a.I)(),v=Math.pow(1+t.cost.percent_increase_per_level/100,r.level),b=1+t.time.percent_increase_per_level*r.level/100,j=(0,ee._)(f.researchsConfig,f.planetResearchs,"research_speed"),_=t.time.base_seconds*b*j,w=en.F[e],N={metal:t.cost.base_metal*v,deuterium:t.cost.base_deuterium*v,science:t.cost.base_science*v,microchips:t.cost.base_microchips*v},C=g.metal>=N.metal&&g.deuterium>=N.deuterium&&g.science>=N.science&&g.microchips>=N.microchips,k=!t.prerequisites||t.prerequisites.every(e=>(f.planetResearchs?.technologies[e.technology_id]?.level||0)>=e.required_level);return(0,s.jsxs)(y.Zp,{className:`bg-card/50 backdrop-blur-sm transition-all duration-300 ${k&&C&&!h?"neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)]":h&&!r.is_researching?"border-amber-500/50 opacity-50":"border-red-500/50"}`,children:[(0,s.jsxs)(y.aR,{className:"flex flex-row items-start gap-6 pb-2",children:[(0,s.jsx)("div",{className:"w-2/5 aspect-square",children:(0,s.jsx)(eo.default,{width:100,height:100,src:(0,el.w)("researchs",e+".webp"),alt:w?.name,className:`w-full h-full object-cover rounded-lg ${(!k||!C||h&&!r.is_researching)&&"opacity-50"}`})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-3/5",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(y.ZB,{className:"text-xl font-bold neon-text tracking-wide uppercase hover:scale-105 transition-transform",children:w?.name}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 text-sm",children:[w.unlocks?.ships&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 text-blue-400"}),(0,s.jsxs)("span",{children:["Unlocks ships: ",w.unlocks.ships.join(", ")]})]}),w.unlocks?.defense&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.A,{className:"h-4 w-4 text-green-400"}),(0,s.jsxs)("span",{children:["Unlocks defense: ",w.unlocks.defense.join(", ")]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,s.jsx)(O,{children:(0,s.jsxs)(B,{children:[(0,s.jsxs)(G,{className:"text-primary font-medium",children:["Level ",r.level,"/",t.max_level]}),(0,s.jsx)(et,{children:(0,s.jsxs)("p",{children:["Maximum level: ",t.max_level]})})]})}),(0,s.jsx)("span",{className:"text-primary/50",children:"â€¢"}),(0,s.jsx)("div",{className:"text-secondary uppercase",children:w?.category})]}),(0,s.jsx)("p",{className:"text-sm text-gray-200 text-left",children:(x=w?.description,t&&t.effects.forEach(e=>{e.per_level&&("resource_boost"===e.type?x+=` Each level increases ${e.resource_type} production by ${e.value}%.`:"construction_speed"===e.type?x+=` Each level increases construction speed by ${e.value}%.`:"research_speed"===e.type&&(x+=` Each level increases research speed by ${e.value}%.`))}),x)}),!k&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsxs)("div",{children:["Requires:"," ",t.prerequisites.map(e=>`${en.F[e.technology_id].name} ${e.required_level}`).join(", ")]})]}),h&&!r.is_researching&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-amber-400 text-sm",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("div",{children:"Another technology is currently being researched"})]})]})]}),(0,s.jsxs)(y.Wu,{className:"space-y-4 pt-4 border-t border-primary/20",children:[r.is_researching?(0,s.jsx)(ea.M,{startTime:r.research_start_time,finishTime:r.research_finish_time,variant:"primary"}):(0,s.jsxs)("div",{className:"p-3 bg-black/30 rounded-lg border border-primary/20",children:[(0,s.jsx)("h4",{className:"font-medium text-primary mb-2",children:"Research Time"}),(0,s.jsx)("div",{className:"text-gray-200 text-sm",children:(e=>{let t=Math.floor(e/86400),r=Math.floor(e%86400/3600),s=Math.floor(e%3600/60),a=Math.floor(e%60);return[t>0&&`${t}d`,r>0&&`${r}h`,s>0&&`${s}m`,a>0&&`${a}s`].filter(Boolean).join(" ")})(_)})]}),(0,s.jsx)(O,{children:(0,s.jsx)(B,{children:(0,s.jsx)(G,{asChild:!0,children:(0,s.jsxs)("div",{className:"w-full p-3 bg-black/30 rounded-lg border border-primary/20",children:[(0,s.jsx)("h4",{className:"font-medium text-primary mb-2",children:"Resource Cost"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[t.cost.base_metal>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 text-secondary"}),(0,s.jsx)("span",{className:`text-sm truncate ${g.metal<N.metal?"text-red-400":"text-gray-200"}`,children:Math.floor(N.metal).toLocaleString()})]}),t.cost.base_deuterium>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:`text-sm truncate ${g.deuterium<N.deuterium?"text-red-400":"text-gray-200"}`,children:Math.floor(N.deuterium).toLocaleString()})]}),t.cost.base_science>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 text-blue-400"}),(0,s.jsx)("span",{className:`text-sm truncate ${g.science<N.science?"text-red-400":"text-gray-200"}`,children:Math.floor(N.science).toLocaleString()})]}),t.cost.base_microchips>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 text-accent"}),(0,s.jsx)("span",{className:`text-sm truncate ${g.microchips<N.microchips?"text-red-400":"text-gray-200"}`,children:Math.floor(N.microchips).toLocaleString()})]})]})]})})})}),(0,s.jsx)("button",{onClick:()=>m(e),disabled:r.is_researching||r.level>=t.max_level||!k||!C||h&&!r.is_researching,className:`w-full px-4 py-2 rounded-lg font-medium transition-colors border ${r.is_researching||r.level>=t.max_level||!k||!C||h&&!r.is_researching?"bg-gray-800/50 text-gray-400 border-gray-600 cursor-not-allowed":"bg-primary/20 hover:bg-primary/30 text-primary border-primary/50 hover:border-primary/80 neon-border"}`,children:r.level>=t.max_level?"MAX LEVEL":r.is_researching?"RESEARCHING":h&&!r.is_researching?"RESEARCH IN PROGRESS":k?C?"RESEARCH":"NOT ENOUGH RESOURCES":"PREREQUISITES NOT MET"})]})]})}function ed(){let{state:e}=(0,a.I)(),[t,r]=(0,v.useState)(()=>{let e=localStorage.getItem("structuresGridCols");return e?parseInt(e):2}),n=e=>{r(e),localStorage.setItem("structuresGridCols",e.toString())};if(!e.researchsConfig||!e.planetResearchs)return(0,s.jsx)("div",{children:"Loading..."});if(!e.structures?.some(e=>"research_lab"===e.type))return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-6 text-center",children:[(0,s.jsx)(m.A,{className:"w-16 h-16 text-red-500 animate-pulse"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-red-500",children:"ACCESS DENIED"}),(0,s.jsxs)("div",{className:"font-mono text-sm text-gray-200 max-w-md",children:[(0,s.jsx)("p",{className:"mb-2",children:"[ERROR CODE: NO_LABORATORY_DETECTED]"}),(0,s.jsx)("p",{children:"Laboratory structure required for research operations."}),(0,s.jsx)("p",{children:"Please construct a laboratory to access research capabilities."})]})]})]});let i=async t=>{if(e.selectedPlanet?.id)try{await es.F.researchs.startResearch(t,e.selectedPlanet.id)}catch(e){console.error("Error starting research:",e)}},o=Object.values(e.planetResearchs.technologies).some(e=>e.is_researching);return(0,s.jsx)(ei.t,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold neon-text mb-2 flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"h-8 w-8"}),"RESEARCH LABORATORY"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-200",children:[(0,s.jsx)(h,{className:"h-5 w-5"}),(0,s.jsx)("p",{children:"Browse and unlock advanced technologies"})]})]}),(0,s.jsxs)(er.rI,{children:[(0,s.jsx)(er.ty,{asChild:!0,children:(0,s.jsx)(g.$,{variant:"outline",size:"icon",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})}),(0,s.jsxs)(er.SQ,{align:"end",children:[(0,s.jsxs)(er._2,{onClick:()=>n(1),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Single Column"]}),(0,s.jsxs)(er._2,{onClick:()=>n(2),children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Two Columns"]}),(0,s.jsxs)(er._2,{onClick:()=>n(3),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Three Columns"]}),(0,s.jsxs)(er._2,{onClick:()=>n(4),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"})," Four Columns"]})]})]})]}),(0,s.jsx)("div",{className:`grid ${{1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}[t]} gap-6`,children:Object.entries(e.researchsConfig.available_researchs).map(([t,r])=>{let a=e.planetResearchs?.technologies[t]||{level:0,is_researching:!1,research_start_time:null,research_finish_time:null};return(0,s.jsx)(ec,{id:t,research:r,tech:a,onStartResearch:i,isAnyResearchInProgress:o},t)})})]})})}},54805:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var s=r(45512),a=r(58009);class n extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?this.props.fallback||(0,s.jsxs)("div",{className:"p-4 text-red-500",children:[(0,s.jsx)("h2",{children:"Something went wrong."}),(0,s.jsxs)("details",{className:"mt-2",children:[(0,s.jsx)("summary",{children:"Error details"}),(0,s.jsx)("pre",{className:"mt-2 text-sm",children:this.state.error?.message})]})]}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}}},4428:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var s=r(45512),a=r(58009),n=r(41022),i=r(44195);let o=a.forwardRef(({className:e,value:t,...r},a)=>(0,s.jsx)(n.bL,{ref:a,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:(0,s.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));function l({startTime:e,finishTime:t,className:r="",showProgressBar:n=!0,variant:i="primary"}){let[l,c]=(0,a.useState)(0),[d,p]=(0,a.useState)(()=>{let r=Date.now(),s=t-e;return Math.max(0,Math.min(100,(s-(t-r))/s*100))});return(0,s.jsxs)("div",{className:`p-3 bg-${i}/10 rounded-lg border border-${i}/30 ${r}`,children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"animate-pulse mr-2 w-2 h-2 bg-primary rounded-full"}),(0,s.jsxs)("p",{className:`text-${i} font-medium`,children:["Time remaining: ",(()=>{let e=Math.floor(l/864e5),t=Math.floor(l%864e5/36e5),r=Math.floor(l%36e5/6e4),s=Math.floor(l%6e4/1e3);return[e>0&&`${e}d`,t>0&&`${t}h`,r>0&&`${r}m`,`${s}s`].filter(Boolean).join(" ")})()]})]}),n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mt-3 relative",children:[(0,s.jsx)(o,{value:d,className:"h-3 bg-background/30 [&>div]:bg-primary/80"}),(0,s.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-mono text-white/90",children:[Math.round(d),"%"]})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm mt-2",children:l<=0&&"Complete!"})]})]})}o.displayName=n.bL.displayName},35223:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>u,_2:()=>m,rI:()=>d,ty:()=>p});var s=r(45512),a=r(58009),n=r(57983),i=r(99905),o=r(24849),l=r(63689),c=r(44195);let d=n.bL,p=n.l9;n.YJ,n.ZL,n.Pb,n.z6,a.forwardRef(({className:e,inset:t,children:r,...a},o)=>(0,s.jsxs)(n.ZP,{ref:o,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[r,(0,s.jsx)(i.A,{className:"ml-auto"})]})).displayName=n.ZP.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.G5,{ref:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.G5.displayName;let u=a.forwardRef(({className:e,sideOffset:t=4,...r},a)=>(0,s.jsx)(n.ZL,{children:(0,s.jsx)(n.UC,{ref:a,sideOffset:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));u.displayName=n.UC.displayName;let m=a.forwardRef(({className:e,inset:t,...r},a)=>(0,s.jsx)(n.q7,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));m.displayName=n.q7.displayName,a.forwardRef(({className:e,children:t,checked:r,...a},i)=>(0,s.jsxs)(n.H_,{ref:i,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),t]})).displayName=n.H_.displayName,a.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsxs)(n.hN,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(l.A,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.hN.displayName,a.forwardRef(({className:e,inset:t,...r},a)=>(0,s.jsx)(n.JU,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r})).displayName=n.JU.displayName,a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.wv,{ref:r,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=n.wv.displayName},69586:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var s=r(55842);async function a(e,t,r){let a=await s.N.auth.getSession().then(({data:{session:e}})=>e?.access_token),n=await fetch(`http://localhost:3001/${e}/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(r)});if(!n.ok)throw Error(`HTTP error! status: ${n.status}`);return n.json()}let n={admin:{updateConfig:async(e,t)=>a("admin","updateConfig",{id:e,config_data:t})},researchs:{startResearch:async(e,t)=>a("researchs","startResearch",{technology_id:e,planet_id:t})},chat:{sendMessage:async(e,t)=>a("chat","sendMessage",{channel_id:e,text:t})},users:{register:async(e,t)=>a("users","register",{id:e,name:t}),update:async(e,t)=>a("users","update",{name:e,avatar:t})},planets:{claim:async(e,t)=>a("planets","claim",{planet_id:e,homeworld:t})},structures:{construct:async(e,t)=>a("structures","construct",{planet_id:e,type:t}),upgrade:async(e,t)=>a("structures","upgrade",{planet_id:e,structure_id:t})},fleet:{buildShip:async(e,t,r)=>a("fleet","buildShip",{ship_type:e,planet_id:t,amount:r}),renameShip:async(e,t)=>a("fleet","renameShip",{ship_id:e,new_name:t})}}},77039:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});let s={transport_tech:{name:"Transport Technology",image:"transport_tech.png",description:"Advanced logistics and cargo management systems that enable the construction and operation of interstellar transport vessels.",category:"ship",unlocks:{ships:["Transport Ship"]}},colonization_tech:{name:"Life Detection Systems",image:"colonization_tech.png",description:"Advanced scanners and analysis tools for detecting habitable worlds and assessing their colonization potential. Unlocks colony ships and planetary settlement capabilities.",category:"ship",unlocks:{ships:["Colony Ship"]}},combat_tech:{name:"Plasma Propulsion Systems",image:"combat_tech.png",description:"Advanced propulsion technology utilizing superheated plasma to generate powerful thrust. This breakthrough in rocket science enables the construction of larger military vessels capable of interstellar combat.",category:"ship",unlocks:{ships:["Cruiser"]}},espionage_tech:{name:"Espionage Technology",image:"espionage_tech.png",description:"Increases your ability to gather intelligence on other players and their planets. Each level improves the accuracy and detail of espionage reports.",category:"ship",unlocks:{ships:["Spy Probe"]}},structures_construction_speed:{name:"Nanite Constructors",image:"nanite_constructors.png",description:"Microscopic robots assist in construction, increasing building speed with each level of research.",category:"infrastructure"},deuterium_production_boost:{name:"Cryogenic Efficiency",image:"cryogenic_efficiency.png",description:"Optimizes the cooling systems needed to store and transport deuterium, reducing losses.",category:"resource"},energy_efficiency:{name:"Energy Efficiency",image:"energy_efficiency.png",description:"Improves the energy production efficiency.",category:"resource"},microchips_production_boost:{name:"Advanced AI",image:"advanced_ai.png",description:"Develops sophisticated artificial intelligence systems that accelerate research by automating experiments, analyzing data patterns, and optimizing research methodologies. Each level enhances the AI's capabilities to assist in scientific discoveries.",category:"infrastructure"},metal_production_boost:{name:"Enhanced Mining",image:"enhanced_mining.png",description:"Improves resource extraction efficiency.",category:"resource"},science_production_boost:{name:"Neural Network",image:"neural_network.png",description:"Develops synthetic neural matrices that mimic organic brain structures, enabling advanced computational processing and machine consciousness.",category:"infrastructure"},global_researchs:{name:"Ansible Network",image:"ansible_network.png",description:"Enables research sharing between planets through quantum entanglement.",category:"infrastructure"}}},53326:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var s=r(55842);let a=(e,t)=>{let{data:r}=s.N.storage.from(e).getPublicUrl(t);return r.publicUrl}},79158:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nathan/code/orion/nextclient/src/app/(protected)/researchs/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nathan/code/orion/nextclient/src/app/(protected)/researchs/page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,572,77,765,65,294,727,257,262],()=>r(65930));module.exports=s})();