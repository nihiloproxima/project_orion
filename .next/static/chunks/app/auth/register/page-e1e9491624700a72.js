(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{9172:(e,r,a)=>{Promise.resolve().then(a.bind(a,8468))},8468:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var s=a(5155),t=a(2115),o=a(3312),n=a(3900),i=a(1720),l=a(9749),d=a(8173),c=a.n(d),m=a(6046),u=a(7146),p=a(1712),h=a(5534);function x(){let e=(0,m.useRouter)(),{isAuthenticated:r,logout:a}=(0,u.A)(),[d,x]=(0,t.useState)(""),[b,f]=(0,t.useState)(""),[N,y]=(0,t.useState)(""),[g,v]=(0,t.useState)(""),[j,E]=(0,t.useState)(""),w=()=>b!==N?(v("ACCESS CODES DO NOT MATCH"),!1):(v(""),!0),C=async r=>{if(r.preventDefault(),w())try{let{data:r,error:a}=await p.N.auth.signUp({email:d,password:b,options:{emailRedirectTo:void 0}});if(a)throw a;if(!r||!r.user)throw Error("User not found");await h.F.users.register(r.user.id,j),e.push("/dashboard")}catch(e){v(e.message||"Registration failed"),console.error("Registration failed:",e),await a()}},S=async()=>{try{var e,r;let{data:a,error:s}=await p.N.auth.signInWithOAuth({provider:"discord",options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});if(console.log(a),s)throw s;let{data:{user:t}}=await p.N.auth.getUser();if(!t)throw Error("User not found");let o=(null===(e=t.user_metadata)||void 0===e?void 0:e.full_name)||(null===(r=t.user_metadata)||void 0===r?void 0:r.name);await h.F.users.register(t.id,o)}catch(e){v(e.message||"Discord authentication failed"),console.error("Discord auth failed:",e)}};return r&&e.push("/dashboard"),(0,s.jsxs)("div",{className:"w-full min-h-screen bg-background cyber-grid flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-primary/5 blur-[100px] rounded-full"}),(0,s.jsxs)(l.Zp,{className:"w-[400px] bg-black/50 backdrop-blur-sm border-primary/50 neon-border",children:[(0,s.jsxs)(l.aR,{className:"space-y-4",children:[(0,s.jsx)(l.ZB,{className:"font-mono text-2xl text-center neon-text tracking-wider",children:"NEW OPERATOR REGISTRATION"}),(0,s.jsxs)("div",{className:"text-xs font-mono text-primary/70",children:[">"," INITIALIZING REGISTRATION SEQUENCE..."]}),g&&(0,s.jsxs)("div",{className:"text-xs font-mono text-red-500 bg-red-500/10 p-2 border border-red-500/30 rounded",children:[">"," ERROR: ",g]})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)(o.$,{onClick:S,className:"w-full mb-6 font-mono bg-[#5865F2]/80 hover:bg-[#5865F2]/90 border border-[#5865F2]/60 neon-border text-white ",children:"CONNECT WITH DISCORD"}),(0,s.jsxs)("div",{className:"relative mb-6",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("span",{className:"w-full border-t border-primary/30"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,s.jsx)("span",{className:"bg-background px-2 text-primary/70 font-mono",children:"Or continue with email"})})]}),(0,s.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"email",className:"font-mono text-sm text-primary/90",children:"[OPERATOR EMAIL]"}),(0,s.jsx)(n.p,{id:"email",type:"email",value:d,onChange:e=>x(e.target.value),required:!0,className:"font-mono bg-black/30 border-primary/30 focus:border-primary/60 neon-border",placeholder:"enter.operator@id"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"pseudonym",className:"font-mono text-sm text-primary/90",children:"[OPERATOR NAME]"}),(0,s.jsx)(n.p,{id:"pseudonym",type:"text",value:j,onChange:e=>E(e.target.value),required:!0,className:"font-mono bg-black/30 border-primary/30 focus:border-primary/60 neon-border",placeholder:"enter_name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"password",className:"font-mono text-sm text-primary/90",children:"[ACCESS CODE]"}),(0,s.jsx)(n.p,{id:"password",type:"password",value:b,onChange:e=>f(e.target.value),required:!0,className:"font-mono bg-black/30 border-primary/30 focus:border-primary/60 neon-border",placeholder:"****************"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(i.J,{htmlFor:"confirmPassword",className:"font-mono text-sm text-primary/90",children:"[VERIFY ACCESS CODE]"}),(0,s.jsx)(n.p,{id:"confirmPassword",type:"password",value:N,onChange:e=>y(e.target.value),required:!0,className:"font-mono bg-black/30 border-primary/30 focus:border-primary/60 neon-border",placeholder:"****************"})]}),(0,s.jsx)(o.$,{type:"submit",className:"w-full font-mono bg-primary/80 hover:bg-primary/90 border border-primary/60 neon-border",children:"INITIALIZE ACCESS"})]})]}),(0,s.jsx)(l.wL,{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"text-xs font-mono text-primary/70",children:["[EXISTING OPERATOR?]"," ",(0,s.jsx)(c(),{href:"/auth/login",className:"text-primary hover:text-primary/80 neon-text",children:"ACCESS SYSTEM"})]})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[149,345,173,343,441,517,358],()=>r(9172)),_N_E=e.O()}]);