(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{2274:(e,r,s)=>{Promise.resolve().then(s.bind(s,6286))},6286:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var a=s(5155),t=s(2115),o=s(7146),n=s(3312),i=s(3900),l=s(1720),c=s(9749),d=s(1712),m=s(5534),u=s(6046),x=s(8173),p=s.n(x);function h(){let e=(0,u.useRouter)(),{login:r,isAuthenticated:s}=(0,o.A)(),[x,h]=(0,t.useState)(""),[b,f]=(0,t.useState)(""),[N,y]=(0,t.useState)(""),g=async e=>{e.preventDefault(),y("");try{await r(x,b)}catch(e){y(e.message||"Login failed"),console.error("Login failed:",e)}},v=async()=>{try{var e,r;let{data:s,error:a}=await d.N.auth.signInWithOAuth({provider:"discord",options:{redirectTo:"".concat(window.location.origin,"/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"}}});if(console.log(s),a)throw a;let{data:{user:t}}=await d.N.auth.getUser();if(!t)throw Error("User not found");let o=(null===(e=t.user_metadata)||void 0===e?void 0:e.full_name)||(null===(r=t.user_metadata)||void 0===r?void 0:r.name);await m.F.users.register(t.id,o)}catch(e){y(e.message||"Discord authentication failed"),console.error("Discord auth failed:",e)}};return s&&e.push("/dashboard"),(0,a.jsxs)("div",{className:"w-full min-h-screen bg-background cyber-grid flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-primary/5 blur-[100px] rounded-full"}),(0,a.jsxs)(c.Zp,{className:"w-[400px] bg-black/50 backdrop-blur-sm border-primary/50 neon-border",children:[(0,a.jsxs)(c.aR,{className:"space-y-4",children:[(0,a.jsx)(c.ZB,{className:"font-mono text-2xl text-center neon-text tracking-wider",children:"SYSTEM ACCESS"}),(0,a.jsxs)("div",{className:"text-xs font-mono text-primary/70",children:[">"," INITIALIZING LOGIN SEQUENCE..."]}),N&&(0,a.jsxs)("div",{className:"text-xs font-mono text-red-500 bg-red-500/10 p-2 border border-red-500/30 rounded",children:[">"," ERROR: ",N]})]}),(0,a.jsx)(c.Wu,{children:(0,a.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"email",className:"font-mono text-sm text-primary/90",children:"[OPERATOR EMAIL]"}),(0,a.jsx)(i.p,{id:"email",type:"email",value:x,onChange:e=>h(e.target.value),required:!0,className:"font-mono bg-black/30 border-primary/30 focus:border-primary/60 neon-border",placeholder:"enter.operator@id"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.J,{htmlFor:"password",className:"font-mono text-sm text-primary/90",children:"[ACCESS CODE]"}),(0,a.jsx)(i.p,{id:"password",type:"password",value:b,onChange:e=>f(e.target.value),required:!0,className:"font-mono bg-black/30 border-primary/30 focus:border-primary/60 neon-border",placeholder:"****************"})]}),(0,a.jsx)(n.$,{type:"submit",className:"w-full font-mono bg-primary/80 hover:bg-primary/90 border border-primary/60 neon-border",children:"AUTHENTICATE"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t border-primary/30"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-background px-2 text-primary/70 font-mono",children:"Or continue with"})})]}),(0,a.jsx)(n.$,{type:"button",onClick:v,className:"w-full font-mono bg-[#5865F2]/80 hover:bg-[#5865F2]/90 border border-[#5865F2]/60 neon-border text-white ",children:"DISCORD LOGIN"})]})}),(0,a.jsx)(c.wL,{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"text-xs font-mono text-primary/70",children:["[NEW OPERATOR?]"," ",(0,a.jsx)(p(),{href:"/auth/register",className:"text-primary hover:text-primary/80 neon-text",children:"INITIALIZE REGISTRATION"})]})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[149,345,173,343,441,517,358],()=>r(2274)),_N_E=e.O()}]);