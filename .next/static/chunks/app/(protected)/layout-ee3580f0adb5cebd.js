(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{6108:(e,r,s)=>{Promise.resolve().then(s.bind(s,8082)),Promise.resolve().then(s.bind(s,2979))},8082:(e,r,s)=>{"use strict";s.d(r,{AuthLayout:()=>P});var t=s(5155),a=s(6046),l=s(8173),o=s.n(l),c=s(7146),n=s(3295),i=s(3312),d=s(7528),m=s(6609),u=s(5024),x=s(5753),h=s(7060),p=s(6165),f=s(1352),b=s(2598),v=s(1466),g=s(5236),y=s(9318);function N(){var e;let{logout:r}=(0,c.A)(),{state:s}=(0,y.I)(),{theme:l,setTheme:N}=(0,n.D)(),j=(0,a.useRouter)();return(0,t.jsxs)("div",{className:"w-64 bg-black/95 border-r border-primary/30 h-full flex flex-col relative overflow-hidden font-mono",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(180deg,rgba(0,255,0,0.03)1px,transparent_1px)] bg-[size:100%_2px] animate-matrix-rain pointer-events-none"}),(0,t.jsxs)("div",{className:"mb-8 p-4 border-b border-primary/30 relative",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(m.A,{className:"mt-2  mr-1 h-4 w-4 text-primary animate-pulse"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-primary tracking-wider effect",children:"Project Orion"})]}),(0,t.jsxs)("div",{className:"text-xs text-primary/70 mt-2 typing-effect-delay",children:[(0,t.jsx)("span",{className:"inline-block w-2 h-2 bg-primary/80  mr-2"}),"Alpha V.0.1"]})]}),(0,t.jsx)("div",{className:"flex-1 px-4",children:s.selectedPlanet&&(0,t.jsx)("nav",{className:"space-y-1",children:[{to:"/dashboard",icon:u.A,label:"MAIN_CONSOLE",color:"primary"},{to:"/structures",icon:x.A,label:"STRUCTURES",color:"primary"},{to:"/researchs",icon:h.A,label:"RESEARCH_LAB",color:"green"},{to:"/shipyard",icon:p.A,label:"SHIPYARD",color:"blue"},{to:"/fleet",icon:f.A,label:"FLEET",color:"blue"},{to:"/galaxy",icon:b.A,label:"GALAXY_MAP",color:"purple"},{to:"/user/".concat(null===(e=s.currentUser)||void 0===e?void 0:e.id),icon:v.A,label:"USER_PROFILE",color:"blue"}].map(e=>(0,t.jsx)(o(),{href:e.to,children:(0,t.jsxs)(i.$,{variant:"ghost",className:"w-full justify-start text-".concat(e.color,"-400 hover:bg-").concat(e.color,"-500/10 \n                  border border-transparent hover:border-").concat(e.color,"-500/30 \n                  group transition-all duration-300\n                  ").concat(location.pathname===e.to?"bg-".concat(e.color,"-500/10 border-").concat(e.color,"-500/30"):""),children:[(0,t.jsx)(e.icon,{className:"mr-2 ".concat(location.pathname===e.to?"animate-pulse":"group-hover:animate-pulse")}),(0,t.jsx)("span",{className:"font-mono ".concat(location.pathname===e.to?"text-primary ":"group-hover:text-primary group-hover:animate-glitch"),children:"> ".concat(e.label)})]})},e.to))})}),(0,t.jsx)("div",{className:"p-4 border-t border-primary/30",children:(0,t.jsxs)(d.l6,{defaultValue:l,onValueChange:N,children:[(0,t.jsx)(d.bq,{className:"w-full bg-black border-primary/30 text-primary hover:border-primary/60 transition-colors",children:(0,t.jsx)(d.yv,{placeholder:"SELECT_THEME"})}),(0,t.jsx)(d.gC,{className:"bg-black/95 border-primary/30",children:[{value:"default",label:"MATRIX_GREEN",color:"emerald"},{value:"purple",label:"NEON_PURPLE",color:"purple"},{value:"blue",label:"CYBER_BLUE",color:"blue"},{value:"synthwave",label:"SYNTHWAVE",color:"pink"}].map(e=>(0,t.jsx)(d.eb,{value:e.value,className:"text-".concat(e.color,"-400 hover:bg-").concat(e.color,"-500/20"),children:"> ".concat(e.label)},e.value))})]})}),(0,t.jsx)("div",{className:"p-4 border-t border-red-500/30",children:(0,t.jsxs)(i.$,{variant:"ghost",onClick:()=>{r(),j.push("/auth/login")},className:"w-full justify-start text-red-500 hover:bg-red-500/10  border border-transparent hover:border-red-500/30  group transition-all duration-300",children:[(0,t.jsx)(g.A,{className:"mr-2 group-hover:animate-pulse"}),(0,t.jsxs)("span",{className:"font-mono group-hover:animate-glitch",children:[">"," TERMINATE_SESSION"]})]})})]})}var j=s(700),_=s(9351),w=s(5621),A=s(4348),E=s(7655),M=s(7072);function R(){var e;let{state:r,selectPlanet:s,currentResources:a}=(0,y.I)();if(null===r.selectedPlanet||!r.resources)return null;let l=r.resources.energy_production-r.resources.energy_consumption,o=1;l<0&&(o=1-l/100);let c=r.resources?{metal:a.metal>=r.resources.max_metal?0:Math.floor(3600*r.resources.metal_production_rate*o),microchips:a.microchips>=r.resources.max_microchips?0:Math.floor(3600*r.resources.microchips_production_rate*o),deuterium:a.deuterium>=r.resources.max_deuterium?0:Math.floor(3600*r.resources.deuterium_production_rate*o),science:a.science>=r.resources.max_science?0:Math.floor(3600*r.resources.science_production_rate*o)}:{metal:0,microchips:0,deuterium:0,energy:0,science:0};return(0,t.jsx)("div",{className:"w-full bg-black/80 border-b border-primary/30 backdrop-blur-sm py-2 px-4 sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"w-72",children:(0,t.jsxs)(d.l6,{value:(null===(e=r.selectedPlanet)||void 0===e?void 0:e.id)||"",onValueChange:e=>{let t=r.userPlanets.find(r=>r.id===e);t&&s(t)},children:[(0,t.jsx)(d.bq,{className:"w-full bg-black border-primary/30 text-primary hover:border-primary/60 transition-colors",children:(0,t.jsx)(d.yv,{placeholder:"Select Planet"})}),(0,t.jsx)(d.gC,{className:"bg-black/95 border-primary/30",children:r.userPlanets.map(e=>(0,t.jsx)(d.eb,{value:e.id,className:"text-primary hover:bg-primary/20",children:"> ".concat(e.name).concat(e.is_homeworld?" (Homeworld)":"")},e.id))})]})}),(0,t.jsxs)("div",{className:"flex justify-end gap-6",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-xs text-secondary/70",children:"METAL"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono font-bold ".concat(a.metal>=r.resources.max_metal?"text-red-400":"text-secondary"),children:[a.metal>=1e4?(0,j.Ay)(a.metal):Math.floor(a.metal),(0,t.jsxs)("span",{className:"text-xs text-secondary/50 ml-1",children:["/",r.resources.max_metal>=1e4?(0,j.Ay)(r.resources.max_metal):Math.floor(r.resources.max_metal)]})]}),(0,t.jsx)(_.A,{className:"h-4 w-4 text-secondary"})]}),(0,t.jsxs)("span",{className:"text-xs text-secondary font-medium",children:["+",c.metal>=1e4?(0,j.Ay)(c.metal):Math.floor(c.metal),"/h"]})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-xs text-accent/70",children:"MICROCHIPS"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono font-bold ".concat(a.microchips>=r.resources.max_microchips?"text-red-400":"text-accent"),children:[a.microchips>=1e4?(0,j.Ay)(a.microchips):Math.floor(a.microchips),(0,t.jsxs)("span",{className:"text-xs text-accent/50 ml-1",children:["/",r.resources.max_microchips>=1e4?(0,j.Ay)(r.resources.max_microchips):Math.floor(r.resources.max_microchips)]})]}),(0,t.jsx)(w.A,{className:"h-4 w-4 text-accent"})]}),(0,t.jsxs)("span",{className:"text-xs text-accent font-medium",children:["+",c.microchips>=1e4?(0,j.Ay)(c.microchips):Math.floor(c.microchips),"/h"]})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-xs text-primary/70",children:"DEUTERIUM"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono font-bold ".concat(a.deuterium>=r.resources.max_deuterium?"text-red-400":"text-primary"),children:[a.deuterium>=1e4?(0,j.Ay)(a.deuterium):Math.floor(a.deuterium),(0,t.jsxs)("span",{className:"text-xs text-primary/50 ml-1",children:["/",r.resources.max_deuterium>=1e4?(0,j.Ay)(r.resources.max_deuterium):Math.floor(r.resources.max_deuterium)]})]}),(0,t.jsx)(A.A,{className:"h-4 w-4 text-primary"})]}),(0,t.jsxs)("span",{className:"text-xs text-primary font-medium",children:["+",c.deuterium>=1e4?(0,j.Ay)(c.deuterium):Math.floor(c.deuterium),"/h"]})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-xs text-blue-400/70",children:"SCIENCE"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono font-bold ".concat(a.science>=r.resources.max_science?"text-red-400":"text-blue-400"),children:[a.science>=1e4?(0,j.Ay)(a.science):Math.floor(a.science),(0,t.jsxs)("span",{className:"text-xs text-blue-400/50 ml-1",children:["/",r.resources.max_science>=1e4?(0,j.Ay)(r.resources.max_science):Math.floor(r.resources.max_science)]})]}),(0,t.jsx)(E.A,{className:"h-4 w-4 text-blue-400"})]}),(0,t.jsxs)("span",{className:"text-xs text-blue-400 font-medium",children:["+",c.science>=1e4?(0,j.Ay)(c.science):Math.floor(c.science),"/h"]})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{className:"text-xs text-violet-400/70",children:"ENERGY"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono font-bold ".concat(a.energy_production>=r.resources.energy_consumption?"text-violet-400":"text-red-400"),children:Math.abs(a.energy_production-a.energy_consumption)>=1e4?(0,j.Ay)(a.energy_production-a.energy_consumption):Math.floor(a.energy_production-a.energy_consumption)}),(0,t.jsx)(M.A,{className:"h-4 w-4 ".concat(a.energy_production>=a.energy_consumption?"text-violet-400":"text-red-400")})]}),(0,t.jsx)("span",{className:"text-xs font-medium",children:Number(a.energy_production/a.energy_consumption).toFixed(2)})]})})]})]})})}var k=s(2115),C=s(3873);function P(e){let{children:r}=e,{state:s}=(0,y.I)(),[a,l]=(0,k.useState)(!0);return((0,k.useEffect)(()=>{let e=setTimeout(()=>{l(!1)},3e3);return()=>clearTimeout(e)},[]),s.loading||a)?(0,t.jsx)(C.x,{}):(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(N,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)(R,{}),(0,t.jsx)("main",{className:"flex-1 overflow-auto p-8",children:r})]})]})}},3312:(e,r,s)=>{"use strict";s.d(r,{$:()=>i});var t=s(5155),a=s(2115),l=s(2317),o=s(1027),c=s(1567);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,r)=>{let{className:s,variant:a,size:o,asChild:i=!1,...d}=e,m=i?l.DX:"button";return(0,t.jsx)(m,{className:(0,c.cn)(n({variant:a,size:o,className:s})),ref:r,...d})});i.displayName="Button"},7528:(e,r,s)=>{"use strict";s.d(r,{bq:()=>u,eb:()=>f,gC:()=>p,l6:()=>d,yv:()=>m});var t=s(5155),a=s(2115),l=s(3409),o=s(1719),c=s(1902),n=s(8867),i=s(1567);let d=l.bL;l.YJ;let m=l.WT,u=a.forwardRef((e,r)=>{let{className:s,children:a,...c}=e;return(0,t.jsxs)(l.l9,{ref:r,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...c,children:[a,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(o.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let x=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.PP,{ref:r,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let h=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.wn,{ref:r,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let p=a.forwardRef((e,r)=>{let{className:s,children:a,position:o="popper",...c}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:r,className:(0,i.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:o,...c,children:[(0,t.jsx)(x,{}),(0,t.jsx)(l.LM,{className:(0,i.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(h,{})]})})});p.displayName=l.UC.displayName,a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.JU,{ref:r,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=l.JU.displayName;let f=a.forwardRef((e,r)=>{let{className:s,children:a,...o}=e;return(0,t.jsxs)(l.q7,{ref:r,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...o,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:a})]})});f.displayName=l.q7.displayName,a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.wv,{ref:r,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=l.wv.displayName},3295:(e,r,s)=>{"use strict";s.d(r,{D:()=>c,N:()=>o});var t=s(5155),a=s(2115);let l=(0,a.createContext)({theme:"blue",setTheme:()=>null});function o(e){let{children:r}=e,[s,o]=(0,a.useState)(()=>localStorage.getItem("color-theme")||"default");return(0,a.useEffect)(()=>{let e=document.documentElement;e.removeAttribute("data-theme"),"default"!==s&&e.setAttribute("data-theme",s),localStorage.setItem("color-theme",s)},[s]),(0,t.jsx)(l.Provider,{value:{theme:s,setTheme:o},children:r})}let c=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}},2979:(e,r,s)=>{"use strict";s.d(r,{default:()=>c});var t=s(5155),a=s(7146),l=s(6046),o=s(2115);function c(e){let{children:r}=e,{authedUser:s,loading:c}=(0,a.A)(),n=(0,l.useRouter)();return((0,o.useEffect)(()=>{c||s||n.push("/auth/login")},[s,c,n]),c)?(0,t.jsx)("div",{children:"Loading..."}):s?r:null}},1567:(e,r,s)=>{"use strict";s.d(r,{_:()=>o,cn:()=>l,m:()=>c});var t=s(3463),a=s(9795);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}function o(e,r,s){let t=0;for(let[l,o]of Object.entries(e.available_researchs)){var a;let e=(null===(a=r.technologies[l])||void 0===a?void 0:a.level)||0;if(0!==e)for(let r of o.effects)r.type===s&&(r.per_level?t+=r.value*e/100:t+=r.value/100)}return 1+t}let c=e=>{let r=Math.floor(e/86400),s=Math.floor(e%86400/3600),t=Math.floor(e%3600/60),a=Math.floor(e%60);return[r>0&&"".concat(r,"d"),s>0&&"".concat(s,"h"),t>0&&"".concat(t,"m"),a>0&&"".concat(a,"s")].filter(Boolean).join(" ")}}},e=>{var r=r=>e(e.s=r);e.O(0,[149,345,142,173,728,717,503,318,441,517,358],()=>r(6108)),_N_E=e.O()}]);