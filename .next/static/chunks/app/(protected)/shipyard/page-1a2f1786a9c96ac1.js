(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{4646:(e,s,t)=>{Promise.resolve().then(t.bind(t,5964))},1352:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]])},7655:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]])},6967:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},6889:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4348:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]])},9351:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]])},8686:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5621:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Microchip",[["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 16h2",key:"zsn3lv"}],["path",{d:"M18 20h2",key:"9x5y9y"}],["path",{d:"M18 4h2",key:"1luxfb"}],["path",{d:"M18 8h2",key:"nxqzg"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 16h2",key:"8a5zha"}],["path",{d:"M4 20h2",key:"27dk57"}],["path",{d:"M4 4h2",key:"10groj"}],["path",{d:"M4 8h2",key:"18vq6w"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z",key:"1681fp"}]])},6527:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},3473:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2640:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},3551:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("Ship",[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]])},3950:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5964:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>I});var a=t(5155),r=t(9318),l=t(9749),n=t(3312),i=t(3950),c=t(8686),d=t(3551),o=t(2640),m=t(6165),u=t(1352),h=t(9351),p=t(4348),x=t(5621),f=t(7655),v=t(6889),g=t(6527),y=t(3473);let j=(0,t(7401).A)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var N=t(6967),b=t(4277),w=t(2115),A=t(7995),k=t(1712),_=t(5534),M=t(2110),S=t(1567),C=t(7404),q=t(5565);let R={civilian:{name:"CIVILIAN_SHIPS",description:"Non-combat vessels for logistics and expansion",types:["colony_ship","transport_ship"]},military:{name:"MILITARY_SHIPS",description:"Combat vessels for warfare and defense",types:["cruiser"]},special:{name:"SPECIAL_SHIPS",description:"Specialized vessels for specific operations",types:["spy_probe","recycler_ship"]}},E={colony_ship:{name:"Colony Ship",image:(0,C.w)("ships","colony_ship.webp"),description:"Required for expanding to new planets. Carries necessary equipment and initial colonists."},transport_ship:{name:"Transport Ship",image:(0,C.w)("ships","transport_ship.webp"),description:"Moves resources between planets. Various sizes available for different cargo capacities."},spy_probe:{name:"Spy Probe",image:(0,C.w)("ships","spy_probe.webp"),description:"Gathers intelligence on other planets. Can detect resource levels and structures."},recycler_ship:{name:"Recycler Ship",image:(0,C.w)("ships","recycler_ship.webp"),description:"Specialized for collecting debris after battles and mining asteroids."},cruiser:{name:"Cruiser",image:(0,C.w)("ships","cruiser.webp"),description:"Fast and powerful combat vessels. Excellent for both attack and defense."}};function P(e){let{queue:s}=e;return s&&0!==s.commands.length?(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:["Production Queue (",s.commands.length,"/",s.capacity,")"]}),(0,a.jsx)("div",{className:"grid gap-3",children:s.commands.map((e,t)=>{let r=E[e.ship_type],n=0===t;return(0,a.jsx)(l.Zp,{className:"bg-black/30",children:(0,a.jsxs)(l.aR,{className:"flex flex-row items-center p-4",children:[(0,a.jsx)(q.default,{src:r.image,alt:r.name,width:100,height:100,className:"w-12 h-12 rounded mr-4"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-bold",children:r.name}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Remaining ships: ",e.remaining_amount]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Total ships: ",e.total_amount]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 text-primary",children:n?(0,a.jsx)(M.M,{startTime:e.current_item_start_time,finishTime:e.current_item_finish_time,showProgressBar:!0}):(0,a.jsxs)("div",{className:"text-sm",children:["Starts in:"," ",(0,S.m)((s.commands[0].construction_finish_time-Date.now())/1e3)]})})]})},t)})})]}):(0,a.jsx)("div",{className:"text-muted-foreground text-sm mb-6",children:"No ships currently in production"})}function T(e){var s,t;let{type:j,config:N,queue:b}=e,{state:A,currentResources:k}=(0,r.I)(),[M,C]=(0,w.useState)(1),R=E[j],P=null===(s=A.structures)||void 0===s?void 0:s.find(e=>"shipyard"===e.type),T=P&&P.level>=N.requirements.shipyard_level,I=N.requirements.technologies.every(e=>{var s;return(null===(s=A.planetResearchs.technologies[e.id])||void 0===s?void 0:s.level)>=e.level}),L=Math.min(...Object.values({metal:Math.floor(k.metal/N.cost.metal),deuterium:Math.floor(k.deuterium/N.cost.deuterium),microchips:Math.floor(k.microchips/N.cost.microchips),science:Math.floor(k.science/N.cost.science)})),D=M<=L,O=(N.construction_time||60)*M,z=((null==b?void 0:null===(t=b.commands)||void 0===t?void 0:t.length)||0)>=((null==b?void 0:b.capacity)||0),V=async()=>{var e;if((null===(e=A.selectedPlanet)||void 0===e?void 0:e.id)&&!z)try{await _.F.fleet.buildShip(j,A.selectedPlanet.id,M)}catch(e){console.error("Error building ship:",e)}},F=e=>{C(Math.max(1,Math.min(M+e,L)))};return(0,a.jsx)(l.Zp,{className:"bg-card/50 backdrop-blur-sm transition-all duration-300 ".concat(T&&I&&D&&!z?"neon-border hover:shadow-[0_0_20px_rgba(32,224,160,0.3)]":"border-red-500/50"),children:(0,a.jsxs)(l.aR,{className:"flex flex-row items-start gap-6 pb-2",children:[(0,a.jsx)("div",{className:"w-2/5 aspect-square relative",children:(0,a.jsx)(q.default,{src:R.image,alt:R.name,className:"w-full h-full object-cover rounded-lg ".concat((!T||!I||!D||z)&&"opacity-50"),width:100,height:100,"aria-description":"Ship ".concat(R.name)})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-3/5",children:[(0,a.jsx)(l.ZB,{className:"text-xl font-bold neon-text tracking-wide uppercase",children:R.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:R.description}),z&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Build queue is full (",5," max)"]})]}),!T&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Requires Shipyard Level ",N.requirements.shipyard_level]})]}),!I&&(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Missing Technology Requirements:"})]}),N.requirements.technologies.map(e=>(0,a.jsx)("div",{className:"flex items-center gap-2 text-red-400 text-xs ml-6",children:(0,a.jsxs)("span",{children:["â€¢ ",e.id," Level ",e.level]})},e.id))]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-blue-400"}),(0,a.jsxs)("span",{children:["Speed: ",N.stats.speed.min,"-",N.stats.speed.max]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 text-green-400"}),(0,a.jsxs)("span",{children:["Defense: ",N.stats.defense.min,"-",N.stats.defense.max]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-red-400"}),(0,a.jsxs)("span",{children:["Attack: ",N.stats.attack_power.min,"-",N.stats.attack_power.max]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 text-yellow-400"}),(0,a.jsxs)("span",{children:["Cargo: ",N.stats.cargo_capacity.min,"-",N.stats.cargo_capacity.max]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(k.metal<N.cost.metal*M?"text-red-400":"text-muted-foreground"),children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:N.cost.metal*M})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(k.deuterium<N.cost.deuterium*M?"text-red-400":"text-muted-foreground"),children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:N.cost.deuterium*M})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(k.microchips<N.cost.microchips*M?"text-red-400":"text-muted-foreground"),children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:N.cost.microchips*M})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(k.science<N.cost.science*M?"text-red-400":"text-muted-foreground"),children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:N.cost.science*M})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mt-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Build Time: ",(0,S.m)(O)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-black/30 rounded-lg p-2",children:[(0,a.jsx)(n.$,{size:"icon",variant:"ghost",onClick:()=>F(-1),disabled:M<=1,children:(0,a.jsx)(g.A,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"w-12 text-center",children:M}),(0,a.jsx)(n.$,{size:"icon",variant:"ghost",onClick:()=>F(1),disabled:M>=L,children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})]}),(0,a.jsx)(n.$,{onClick:V,disabled:!T||!I||!D||z,className:"flex-1",children:"Build Ships"})]})]})]})})}function I(){var e,s;let{state:t}=(0,r.I)(),[l,c]=(0,w.useState)("civilian"),[o,m]=(0,w.useState)(null),[u,h]=(0,w.useState)(!0);return((0,w.useEffect)(()=>{var e;if(!(null===(e=t.selectedPlanet)||void 0===e?void 0:e.id))return;(async()=>{h(!0);let{data:e}=await k.N.from("shipyard_queues").select("*").eq("planet_id",t.selectedPlanet.id).single();e&&m(e),h(!1)})();let s=k.N.channel("shipyard_queue_".concat(t.selectedPlanet.id)).on("postgres_changes",{event:"*",schema:"public",table:"shipyard_queues",filter:"planet_id=eq.".concat(t.selectedPlanet.id)},e=>{m(e.new)}).subscribe();return()=>{s.unsubscribe()}},[null===(e=t.selectedPlanet)||void 0===e?void 0:e.id]),null===(s=t.structures)||void 0===s?void 0:s.some(e=>"shipyard"===e.type&&e.level>=1))?(0,a.jsx)(b.t,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold neon-text mb-2 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-8 w-8"}),"SHIPYARD"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Construct and manage your fleet of spacecraft"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"col-span-1 bg-black/50 p-4 rounded-lg border border-primary/30 h-[calc(100vh-12rem)]",children:(0,a.jsxs)("div",{className:"font-mono text-sm space-y-2",children:[(0,a.jsxs)("div",{className:"text-primary/70 mb-4",children:[">"," SELECT_CATEGORY:"]}),Object.entries(R).map(e=>{let[s,t]=e;return(0,a.jsxs)(n.$,{variant:"ghost",className:"w-full justify-start ".concat(l===s?"bg-primary/20":""),onClick:()=>c(s),children:[(0,a.jsx)(j,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{className:"font-mono",children:t.name}),(0,a.jsx)(N.A,{className:"ml-auto h-4 w-4"})]},s)})]})}),(0,a.jsx)("div",{className:"col-span-3 h-[calc(100vh-12rem)]",children:(0,a.jsxs)(A.F,{className:"h-full pr-4",children:[(0,a.jsx)(P,{queue:o}),u?(0,a.jsx)("div",{className:"text-center text-muted-foreground font-mono",children:(0,a.jsxs)("p",{children:[">"," LOADING SHIPYARD DATA..."]})}):l?(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:R[l].types.map(e=>(0,a.jsx)(T,{type:e,config:t.shipsConfig.available_ships[e],queue:o},e))}):(0,a.jsx)("div",{className:"text-center text-muted-foreground font-mono",children:(0,a.jsxs)("p",{children:[">"," SELECT A CATEGORY TO VIEW AVAILABLE SHIPS"]})})]})})]})]})}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[80vh] space-y-6 text-center",children:[(0,a.jsx)(i.A,{className:"w-16 h-16 text-red-500 animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-red-500",children:"ACCESS DENIED"}),(0,a.jsxs)("div",{className:"font-mono text-sm text-muted-foreground max-w-md",children:[(0,a.jsx)("p",{className:"mb-2",children:"[ERROR CODE: NO_SHIPYARD_DETECTED]"}),(0,a.jsx)("p",{children:"Shipyard structure required for spacecraft construction."}),(0,a.jsx)("p",{children:"Please construct a shipyard to access ship building capabilities."})]})]})]})}},4277:(e,s,t)=>{"use strict";t.d(s,{t:()=>l});var a=t(5155),r=t(2115);class l extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Uncaught error:",e,s)}render(){if(this.state.hasError){var e;return this.props.fallback||(0,a.jsxs)("div",{className:"p-4 text-red-500",children:[(0,a.jsx)("h2",{children:"Something went wrong."}),(0,a.jsxs)("details",{className:"mt-2",children:[(0,a.jsx)("summary",{children:"Error details"}),(0,a.jsx)("pre",{className:"mt-2 text-sm",children:null===(e=this.state.error)||void 0===e?void 0:e.message})]})]})}return this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}}},2110:(e,s,t)=>{"use strict";t.d(s,{M:()=>c});var a=t(5155),r=t(2115),l=t(6838),n=t(1567);let i=r.forwardRef((e,s)=>{let{className:t,value:r,...i}=e;return(0,a.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,a.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});function c(e){let{startTime:s,finishTime:t,className:l="",showProgressBar:n=!0,variant:c="primary"}=e,[d,o]=(0,r.useState)(0),[m,u]=(0,r.useState)(()=>{let e=Date.now(),a=t-s;return Math.max(0,Math.min(100,(a-(t-e))/a*100))});return(0,r.useEffect)(()=>{let e=t-s,a=()=>{let s=Math.max(0,t-Date.now());o(s),u(Math.max(0,Math.min(100,(e-s)/e*100))),s>0&&requestAnimationFrame(a)},r=requestAnimationFrame(a);return()=>{cancelAnimationFrame(r)}},[s,t]),(0,a.jsxs)("div",{className:"p-3 bg-".concat(c,"/10 rounded-lg border border-").concat(c,"/30 ").concat(l),children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-pulse mr-2 w-2 h-2 bg-primary rounded-full"}),(0,a.jsxs)("p",{className:"text-".concat(c," font-medium"),children:["Time remaining: ",(()=>{let e=Math.floor(d/864e5),s=Math.floor(d%864e5/36e5),t=Math.floor(d%36e5/6e4),a=Math.floor(d%6e4/1e3);return[e>0&&"".concat(e,"d"),s>0&&"".concat(s,"h"),t>0&&"".concat(t,"m"),"".concat(a,"s")].filter(Boolean).join(" ")})()]})]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-3 relative",children:[(0,a.jsx)(i,{value:m,className:"h-3 bg-background/30 [&>div]:bg-primary/80"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-mono text-white/90",children:[Math.round(m),"%"]})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm mt-2",children:d<=0&&"Complete!"})]})]})}i.displayName=l.bL.displayName},3312:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(5155),r=t(2115),l=t(2317),n=t(1027),i=t(1567);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:d=!1,...o}=e,m=d?l.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(c({variant:r,size:n,className:t})),ref:s,...o})});d.displayName="Button"},9749:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>i,wL:()=>m});var a=t(5155),r=t(2115),l=t(1567);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})});m.displayName="CardFooter"},7995:(e,s,t)=>{"use strict";t.d(s,{F:()=>i});var a=t(5155),r=t(2115),l=t(1868),n=t(1567);let i=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(l.bL,{ref:s,className:(0,n.cn)("relative overflow-hidden",t),...i,children:[(0,a.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,a.jsx)(c,{}),(0,a.jsx)(l.OK,{})]})});i.displayName=l.bL.displayName;let c=r.forwardRef((e,s)=>{let{className:t,orientation:r="vertical",...i}=e;return(0,a.jsx)(l.VM,{ref:s,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...i,children:(0,a.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=l.VM.displayName},5534:(e,s,t)=>{"use strict";t.d(s,{F:()=>l});var a=t(1712);async function r(e,s,t){let r=await a.N.auth.getSession().then(e=>{let{data:{session:s}}=e;return null==s?void 0:s.access_token}),l=await fetch("".concat("http://localhost:3001/").concat(e,"/").concat(s),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(t)});if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));return l.json()}let l={admin:{updateConfig:async(e,s)=>r("admin","updateConfig",{id:e,config_data:s})},researchs:{startResearch:async(e,s)=>r("researchs","startResearch",{technology_id:e,planet_id:s})},chat:{sendMessage:async(e,s)=>r("chat","sendMessage",{channel_id:e,text:s})},users:{register:async(e,s)=>r("users","register",{id:e,name:s}),update:async(e,s)=>r("users","update",{name:e,avatar:s})},planets:{claim:async(e,s)=>r("planets","claim",{planet_id:e,homeworld:s})},structures:{construct:async(e,s)=>r("structures","construct",{planet_id:e,type:s}),upgrade:async(e,s)=>r("structures","upgrade",{planet_id:e,structure_id:s})},fleet:{buildShip:async(e,s,t)=>r("fleet","buildShip",{ship_type:e,planet_id:s,amount:t}),renameShip:async(e,s)=>r("fleet","renameShip",{ship_id:e,new_name:s})}}},7404:(e,s,t)=>{"use strict";t.d(s,{w:()=>r});var a=t(1712);let r=(e,s)=>{let{data:t}=a.N.storage.from(e).getPublicUrl(s);return t.publicUrl}},1567:(e,s,t)=>{"use strict";t.d(s,{_:()=>n,cn:()=>l,m:()=>i});var a=t(3463),r=t(9795);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function n(e,s,t){let a=0;for(let[l,n]of Object.entries(e.available_researchs)){var r;let e=(null===(r=s.technologies[l])||void 0===r?void 0:r.level)||0;if(0!==e)for(let s of n.effects)s.type===t&&(s.per_level?a+=s.value*e/100:a+=s.value/100)}return 1+a}let i=e=>{let s=Math.floor(e/86400),t=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=Math.floor(e%60);return[s>0&&"".concat(s,"d"),t>0&&"".concat(t,"h"),a>0&&"".concat(a,"m"),r>0&&"".concat(r,"s")].filter(Boolean).join(" ")}},6838:(e,s,t)=>{"use strict";t.d(s,{C1:()=>N,bL:()=>j});var a=t(2115),r=t(8166),l=t(3360),n=t(5155),i="Progress",[c,d]=(0,r.A)(i),[o,m]=c(i),u=a.forwardRef((e,s)=>{var t,a,r,i;let{__scopeProgress:c,value:d=null,max:m,getValueLabel:u=x,...h}=e;(m||0===m)&&!g(m)&&console.error((t="".concat(m),a="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let p=g(m)?m:100;null===d||y(d,p)||console.error((r="".concat(d),i="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=y(d,p)?d:null,N=v(j)?u(j,p):void 0;return(0,n.jsx)(o,{scope:c,value:j,max:p,children:(0,n.jsx)(l.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":v(j)?j:void 0,"aria-valuetext":N,role:"progressbar","data-state":f(j,p),"data-value":null!=j?j:void 0,"data-max":p,...h,ref:s})})});u.displayName=i;var h="ProgressIndicator",p=a.forwardRef((e,s)=>{var t;let{__scopeProgress:a,...r}=e,i=m(h,a);return(0,n.jsx)(l.sG.div,{"data-state":f(i.value,i.max),"data-value":null!==(t=i.value)&&void 0!==t?t:void 0,"data-max":i.max,...r,ref:s})});function x(e,s){return"".concat(Math.round(e/s*100),"%")}function f(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function y(e,s){return v(e)&&!isNaN(e)&&e<=s&&e>=0}p.displayName=h;var j=u,N=p},1027:(e,s,t)=>{"use strict";t.d(s,{F:()=>n});var a=t(3463);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=a.$,n=(e,s)=>t=>{var a;if((null==s?void 0:s.variants)==null)return l(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:i}=s,c=Object.keys(n).map(e=>{let s=null==t?void 0:t[e],a=null==i?void 0:i[e];if(null===s)return null;let l=r(s)||r(a);return n[e][l]}),d=t&&Object.entries(t).reduce((e,s)=>{let[t,a]=s;return void 0===a||(e[t]=a),e},{});return l(e,c,null==s?void 0:null===(a=s.compoundVariants)||void 0===a?void 0:a.reduce((e,s)=>{let{class:t,className:a,...r}=s;return Object.entries(r).every(e=>{let[s,t]=e;return Array.isArray(t)?t.includes({...i,...d}[s]):({...i,...d})[s]===t})?[...e,t,a]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},e=>{var s=s=>e(e.s=s);e.O(0,[149,345,440,280,318,441,517,358],()=>s(4646)),_N_E=e.O()}]);