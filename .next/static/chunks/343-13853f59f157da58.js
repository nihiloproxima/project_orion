"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[343],{5353:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=r(2115);function n(e,t){let r=(0,a.useRef)(()=>{}),n=(0,a.useRef)(()=>{});return(0,a.useMemo)(()=>e&&t?a=>{null===a?(r.current(),n.current()):(r.current=s(e,a),n.current=s(t,a))}:e||t,[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3873:(e,t,r)=>{r.d(t,{x:()=>i});var a=r(5155),n=r(2115),s=r(6609);let l=["INITIALIZING SYSTEM...","ESTABLISHING CONNECTION...","SCANNING STAR SYSTEMS...","LOADING PLANET DATA...","FETCHING RESOURCES...","LOADING RESEARCH STATUS...","CHECKING STRUCTURES...","INITIALIZING GAME STATE..."];function i(e){let{message:t="SYSTEM BOOT SEQUENCE"}=e,[r,i]=(0,n.useState)(0),[o,d]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let e=setInterval(()=>{i(t=>t>=100?(clearInterval(e),100):t+1)},30),t=setInterval(()=>{d(e=>(e+1)%l.length)},375);return()=>{clearInterval(e),clearInterval(t)}},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-background cyber-grid flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-primary/5 blur-[100px] rounded-full"}),(0,a.jsxs)("div",{className:"w-[600px] space-y-8 z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)(s.A,{className:"h-8 w-8 text-primary animate-pulse"}),(0,a.jsx)("h1",{className:"text-4xl font-bold neon-text tracking-wider",children:t})]}),(0,a.jsxs)("div",{className:"relative h-[300px] border border-primary/30 bg-black/80 overflow-hidden font-mono",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[linear-gradient(180deg,rgba(0,255,0,0.03)1px,transparent_1px)] bg-[size:100%_2px] animate-matrix-rain"}),(0,a.jsx)("div",{className:"p-4 space-y-2 text-primary/70",children:l.map((e,t)=>(0,a.jsxs)("div",{className:"transition-opacity duration-500 ".concat(t===o?"opacity-100":"opacity-30"),children:["> ",e]},t))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-primary/70 font-mono",children:[(0,a.jsx)("span",{children:"INITIALIZATION PROGRESS"}),(0,a.jsxs)("span",{children:[r,"%"]})]}),(0,a.jsxs)("div",{className:"relative h-2 bg-primary/10 rounded-full overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 bg-primary/30",style:{width:"".concat(r,"%")}}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 bg-primary animate-pulse",style:{width:"2px",left:"".concat(r,"%"),boxShadow:"0 0 10px theme(colors.primary.DEFAULT), 0 0 5px theme(colors.primary.DEFAULT)"}})]})]})]})]})}},3312:(e,t,r)=>{r.d(t,{$:()=>d});var a=r(5155),n=r(2115),s=r(2317),l=r(1027),i=r(1567);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:d=!1,...u}=e,c=d?s.DX:"button";return(0,a.jsx)(c,{className:(0,i.cn)(o({variant:n,size:l,className:r})),ref:t,...u})});d.displayName="Button"},9749:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>u,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>c});var a=r(5155),n=r(2115),s=r(1567);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});u.displayName="CardContent";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...n})});c.displayName="CardFooter"},3900:(e,t,r)=>{r.d(t,{p:()=>l});var a=r(5155),n=r(2115),s=r(1567);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},1720:(e,t,r)=>{r.d(t,{J:()=>u});var a=r(5155),n=r(2115),s=r(3360),l=n.forwardRef((e,t)=>(0,a.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=r(1027),o=r(1567);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l,{ref:t,className:(0,o.cn)(d(),r),...n})});u.displayName=l.displayName},7146:(e,t,r)=>{r.d(t,{A:()=>u,O:()=>d});var a=r(5155),n=r(2115),s=r(1712),l=r(6046),i=r(3873);let o=(0,n.createContext)(null);function d(e){let{children:t}=e,[r,d]=(0,n.useState)(null),[u,c]=(0,n.useState)(!0),f=(0,l.useRouter)();(0,n.useEffect)(()=>{s.N.auth.getSession().then(e=>{var t;let{data:{session:r}}=e;d(null!==(t=null==r?void 0:r.user)&&void 0!==t?t:null),c(!1)});let{data:{subscription:e}}=s.N.auth.onAuthStateChange((e,t)=>{var r;d(null!==(r=null==t?void 0:t.user)&&void 0!==r?r:null)});return()=>e.unsubscribe()},[]);let p=async(e,t)=>{let{error:r}=await s.N.auth.signInWithPassword({email:e,password:t});if(r)throw r;f.push("/dashboard")},v=async()=>{await s.N.auth.signOut(),f.push("/auth/login")};return u?(0,a.jsx)(i.x,{}):(0,a.jsx)(o.Provider,{value:{isAuthenticated:!!r,authedUser:r,login:p,logout:v,loading:u},children:t})}function u(){let e=(0,n.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},5534:(e,t,r)=>{r.d(t,{F:()=>s});var a=r(1712);async function n(e,t,r){let n=await a.N.auth.getSession().then(e=>{let{data:{session:t}}=e;return null==t?void 0:t.access_token}),s=await fetch("".concat("http://localhost:3001/").concat(e,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(r)});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));return s.json()}let s={admin:{updateConfig:async(e,t)=>n("admin","updateConfig",{id:e,config_data:t})},researchs:{startResearch:async(e,t)=>n("researchs","startResearch",{technology_id:e,planet_id:t})},chat:{sendMessage:async(e,t)=>n("chat","sendMessage",{channel_id:e,text:t})},users:{register:async(e,t)=>n("users","register",{id:e,name:t}),update:async(e,t)=>n("users","update",{name:e,avatar:t})},planets:{claim:async(e,t)=>n("planets","claim",{planet_id:e,homeworld:t})},structures:{construct:async(e,t)=>n("structures","construct",{planet_id:e,type:t}),upgrade:async(e,t)=>n("structures","upgrade",{planet_id:e,structure_id:t})},fleet:{buildShip:async(e,t,r)=>n("fleet","buildShip",{ship_type:e,planet_id:t,amount:r}),renameShip:async(e,t)=>n("fleet","renameShip",{ship_id:e,new_name:t})}}},1712:(e,t,r)=>{r.d(t,{N:()=>a});let a=(0,r(5974).UU)("http://127.0.0.1:54321","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0")},1567:(e,t,r)=>{r.d(t,{_:()=>l,cn:()=>s,m:()=>i});var a=r(3463),n=r(9795);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function l(e,t,r){let a=0;for(let[s,l]of Object.entries(e.available_researchs)){var n;let e=(null===(n=t.technologies[s])||void 0===n?void 0:n.level)||0;if(0!==e)for(let t of l.effects)t.type===r&&(t.per_level?a+=t.value*e/100:a+=t.value/100)}return 1+a}let i=e=>{let t=Math.floor(e/86400),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),n=Math.floor(e%60);return[t>0&&"".concat(t,"d"),r>0&&"".concat(r,"h"),a>0&&"".concat(a,"m"),n>0&&"".concat(n,"s")].filter(Boolean).join(" ")}},3360:(e,t,r)=>{r.d(t,{hO:()=>o,sG:()=>i});var a=r(2115),n=r(7650),s=r(2317),l=r(5155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...n}=e,i=a?s.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function o(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},1027:(e,t,r)=>{r.d(t,{F:()=>l});var a=r(3463);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=a.$,l=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return s(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:i}=t,o=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],a=null==i?void 0:i[e];if(null===t)return null;let s=n(t)||n(a);return l[e][s]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return s(e,o,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...d}[t]):({...i,...d})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}}]);